// manifest.json
{
  "name": "Word Order Adventure",
  "short_name": "WordOrder",
  "start_url": ".",
  "display": "standalone",
  "background_color": "#BBDEFB",
  "theme_color": "#4CAF50",
  "icons": [
    {"src": "icon-192.png","sizes": "192x192","type": "image/png"},
    {"src": "icon-512.png","sizes": "512x512","type": "image/png"}
  ]
}

// service-worker.js
const CACHE_NAME = "word-order-v4";
const urlsToCache = [
  "./","index.html","styles.css","game.js","ui.js","speech.js","wordClasses.js",
  "data/p1.json","data/p2.json","data/p3.json","data/p4.json","data/p5.json","data/p6.json",
  "manifest.json","favicon.ico","icon-192.png","icon-512.png",
  "images/mascot.png","images/star.png","images/first-win.png",
  "images/level-master.png","images/perfect-streak-5.png"
];
self.addEventListener("install", e => e.waitUntil(
  caches.open(CACHE_NAME).then(cache => cache.addAll(urlsToCache)).catch(err => console.warn("Cache install failed:", err))
));
self.addEventListener("fetch", e => e.respondWith(
  caches.match(e.request).then(res => res || fetch(e.request).catch(() => caches.match("index.html")))
));
self.addEventListener("activate", e => e.waitUntil(
  caches.keys().then(keys => Promise.all(keys.map(k => k!==CACHE_NAME&&caches.delete(k))))
));
